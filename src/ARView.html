<!DOCTYPE html>
<html>
  <head>
    <title>Jharkhand Tourism AR Experience</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/3.3.2/aframe/build/aframe-ar.js"></script>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #0f172a, #1e293b);
        color: white;
      }
      
      .ar-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.8);
        padding: 15px;
        text-align: center;
        z-index: 1000;
        backdrop-filter: blur(10px);
      }
      
      .ar-instructions {
        position: absolute;
        bottom: 20px;
        left: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.9);
        padding: 20px;
        border-radius: 15px;
        z-index: 1000;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      .ar-instructions h3 {
        margin: 0 0 15px 0;
        color: #60a5fa;
      }
      
      .ar-instructions ol {
        margin: 0;
        text-align: left;
        padding-left: 20px;
      }
      
      .ar-instructions li {
        margin-bottom: 8px;
        color: rgba(255, 255, 255, 0.9);
      }
      
      .place-info {
        position: absolute;
        top: 80px;
        right: 20px;
        background: rgba(0, 0, 0, 0.9);
        padding: 15px;
        border-radius: 12px;
        max-width: 250px;
        z-index: 999;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      .place-info h4 {
        margin: 0 0 10px 0;
        color: #10b981;
      }
      
      .place-info p {
        margin: 0 0 5px 0;
        font-size: 14px;
        color: rgba(255, 255, 255, 0.8);
      }
      
      #arScene {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <!-- AR Overlay Info -->
    <div class="ar-overlay">
      <h2>ü•Ω Jharkhand Tourism AR Experience</h2>
      <p>Point your camera at a flat surface to explore Jharkhand's beautiful locations in AR</p>
    </div>

    <!-- Place Information Panel -->
    <div class="place-info">
      <h4>üèîÔ∏è Current Location</h4>
      <p><strong>Netarhat Hills</strong></p>
      <p>Queen of Chotanagpur</p>
      <p>üìç Latehar District</p>
      <p>üéØ Best for: Photography, Trekking</p>
    </div>

    <!-- AR Scene -->
    <a-scene 
      id="arScene"
      embedded 
      arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
    >
      <!-- Assets -->
      <a-assets>
        <a-asset-item id="netarhat" src="#"></a-asset-item>
        <a-asset-item id="falls" src="#"></a-asset-item>
        <a-asset-item id="temple" src="#"></a-asset-item>
      </a-assets>

      <!-- Multiple Markers for different places -->
      
      <!-- Netarhat Hills Marker -->
      <a-marker preset="hiro">
        <!-- 3D Representation of hills -->
        <a-box 
          position="0 0.5 0" 
          scale="1 0.5 2" 
          color="#4a5d23"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
        ></a-box>
        
        <!-- Trees -->
        <a-cone 
          position="-0.5 1 0.5" 
          radius-bottom="0.2" 
          radius-top="0.05" 
          height="0.8" 
          color="#0d4f0c"
        ></a-cone>
        <a-cone 
          position="0.3 1 -0.3" 
          radius-bottom="0.15" 
          radius-top="0.03" 
          height="0.6" 
          color="#0d4f0c"
        ></a-cone>
        <a-cone 
          position="0.7 1 0.8" 
          radius-bottom="0.25" 
          radius-top="0.05" 
          height="1" 
          color="#0d4f0c"
        ></a-cone>
        
        <!-- Sun (for sunrise/sunset view) -->
        <a-sphere 
          position="2 3 -2" 
          radius="0.3" 
          color="#ffa500"
          animation="property: position; to: -2 3 -2; loop: true; dir: alternate; dur: 8000"
        ></a-sphere>
        
        <!-- Info Text -->
        <a-text 
          value="Netarhat Hills\nQueen of Chotanagpur\nSunrise & Sunset Point" 
          position="0 2 0" 
          rotation="-90 0 0" 
          color="#60a5fa" 
          scale="1.5 1.5 1.5"
          align="center"
        ></a-text>
        
        <!-- Interactive hotspots -->
        <a-sphere 
          position="1 0.5 1" 
          radius="0.1" 
          color="#ff4444"
          animation="property: scale; to: 1.2 1.2 1.2; loop: true; dir: alternate; dur: 1000"
          class="hotspot"
          data-info="Sunrise Point - Best viewed at 5:30 AM"
        ></a-sphere>
        
        <a-sphere 
          position="-1 0.5 -1" 
          radius="0.1" 
          color="#ff8800"
          animation="property: scale; to: 1.2 1.2 1.2; loop: true; dir: alternate; dur: 1000"
          class="hotspot"
          data-info="Sunset Point - Best viewed at 6:00 PM"
        ></a-sphere>
      </a-marker>

      <!-- Kaaba Marker for Temple -->
      <a-marker preset="kaaba">
        <!-- Temple Structure -->
        <a-box 
          position="0 0.5 0" 
          scale="1.5 1 1.5" 
          color="#8B4513"
        ></a-box>
        
        <!-- Temple Spires -->
        <a-cone 
          position="0 1.2 0" 
          radius-bottom="0.3" 
          radius-top="0.1" 
          height="0.8" 
          color="#DAA520"
        ></a-cone>
        <a-cone 
          position="-0.5 1 -0.5" 
          radius-bottom="0.2" 
          radius-top="0.05" 
          height="0.6" 
          color="#DAA520"
        ></a-cone>
        <a-cone 
          position="0.5 1 0.5" 
          radius-bottom="0.2" 
          radius-top="0.05" 
          height="0.6" 
          color="#DAA520"
        ></a-cone>
        
        <!-- Sacred Fire -->
        <a-light 
          type="point" 
          position="0 1.8 0" 
          color="#ff4400"
          animation="property: intensity; to: 2; loop: true; dir: alternate; dur: 500"
        ></a-light>
        
        <a-text 
          value="Deoghar Temple\nBaidyanath Jyotirlinga\nSacred Pilgrimage Site" 
          position="0 2.5 0" 
          rotation="-90 0 0" 
          color="#DAA520" 
          scale="1 1 1"
          align="center"
        ></a-text>
      </a-marker>

      <!-- Waterfall Marker (using pattern) -->
      <a-marker type="pattern" url="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==">
        <!-- Waterfall -->
        <a-box 
          position="0 2 -1" 
          scale="0.1 4 0.1" 
          color="#87CEEB"
          animation="property: position; to: 0 0 -1; loop: true; dur: 2000"
        ></a-box>
        
        <!-- Rock Formation -->
        <a-box 
          position="0 0.5 0" 
          scale="2 1 1" 
          color="#696969"
        ></a-box>
        <a-box 
          position="0 1.5 -0.5" 
          scale="1.5 1 0.8" 
          color="#696969"
        ></a-box>
        
        <!-- Pool -->
        <a-cylinder 
          position="0 0 1" 
          radius="1" 
          height="0.1" 
          color="#4682B4"
        ></a-cylinder>
        
        <!-- Splash Effect -->
        <a-sphere 
          position="0 0.2 0.8" 
          radius="0.1" 
          color="#ffffff"
          animation="property: scale; to: 2 2 2; loop: true; dur: 1000; easing: easeOutQuad"
          opacity="0.7"
        ></a-sphere>
        
        <a-text 
          value="Hundru Falls\n98m Height\nSpectacular Waterfall" 
          position="0 3 0" 
          rotation="-90 0 0" 
          color="#4682B4" 
          scale="1.2 1.2 1.2"
          align="center"
        ></a-text>
      </a-marker>

      <!-- Camera -->
      <a-entity camera></a-entity>
    </a-scene>

    <!-- Instructions Overlay -->
    <div class="ar-instructions">
      <h3>üéØ AR Instructions</h3>
      <ol>
        <li>Allow camera access when prompted</li>
        <li>Point your device at a well-lit flat surface</li>
        <li>Look for the AR markers to appear</li>
        <li>Tap on red/orange hotspots for more information</li>
        <li>Move around to explore different angles</li>
      </ol>
    </div>

    <script>
      // Add interactivity to hotspots
      document.addEventListener('DOMContentLoaded', function() {
        const hotspots = document.querySelectorAll('.hotspot');
        hotspots.forEach(hotspot => {
          hotspot.addEventListener('click', function() {
            const info = this.getAttribute('data-info');
            alert('üìç ' + info);
          });
        });

        // Update place info based on detected marker
        const markers = document.querySelectorAll('a-marker');
        markers.forEach((marker, index) => {
          marker.addEventListener('markerFound', function() {
            updatePlaceInfo(index);
          });
        });
      });

      function updatePlaceInfo(markerIndex) {
        const placeInfo = document.querySelector('.place-info');
        const places = [
          {
            name: 'Netarhat Hills',
            description: 'Queen of Chotanagpur',
            location: 'Latehar District',
            icon: 'üèîÔ∏è',
            activities: 'Photography, Trekking'
          },
          {
            name: 'Deoghar Temple',
            description: 'Baidyanath Jyotirlinga',
            location: 'Deoghar District',
            icon: 'üõï',
            activities: 'Pilgrimage, Meditation'
          },
          {
            name: 'Hundru Falls',
            description: '98m Spectacular Waterfall',
            location: 'Ranchi District',
            icon: 'üíß',
            activities: 'Photography, Swimming'
          }
        ];

        if (places[markerIndex]) {
          const place = places[markerIndex];
          placeInfo.innerHTML = `
            <h4>${place.icon} Current Location</h4>
            <p><strong>${place.name}</strong></p>
            <p>${place.description}</p>
            <p>üìç ${place.location}</p>
            <p>üéØ Best for: ${place.activities}</p>
          `;
        }
      }

      // Add camera permission handling
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
          console.log('Camera access granted');
        })
        .catch(function(err) {
          console.log('Camera access denied:', err);
          alert('Please allow camera access to use AR features');
        });
    </script>
  </body>
</html>
